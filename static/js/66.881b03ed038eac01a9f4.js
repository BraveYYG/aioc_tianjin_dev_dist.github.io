webpackJsonp([66],{"7alg":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),o=a.n(r),n=a("pFYg"),i=a.n(n),l=a("Dd8w"),s=a.n(l),c=a("NYxO"),u=a("P9l9"),d=a("sxQs"),h={data:function(){return{ops:{vuescroll:{},scrollPanel:{scrollingX:!1},bar:{background:"#eee"}},isSearchLoading:!1,columns:[{label:"设备标识ID",prop:"identificationId",width:"150"},{label:"设备类型",prop:"deviceType"},{label:"老年人姓名",prop:"userName"},{label:"身份证号码",prop:"idcardNumber"},{label:"联系方式",prop:"phone"},{label:"发放方式",prop:"disbursement"},{label:"开通时间",prop:"openTime"},{label:"在线状态",prop:"onlineState"}],tableData:[],fullscreen:!0,orderAll:"",index:1,locationProps:{value:"code",label:"name",children:"childs"},total:0,serviceLevel:"",formData:{userName:"",idcardNumber:"",pageSize:10,page:1},streetCode:"",zoneCode:"",communityCode:"",paramsCode:{}}},computed:s()({},Object(c.b)(["typeNew","codeNew"]),{params:function(){var e={};return e[["code","zoneCode","streetCode","communityCode"][this.typeNew-1]]=this.codeNew[0],e}}),created:function(){var e=this;this.$store.dispatch("getUserAuthInfo").then(function(){e.handleGetSearchValue()}).catch(function(e){console.log("获取用户权限失败",e)}),"string"==typeof this.$route.query.code?this.paramsCode={}:"object"===i()(this.$route.query.code)&&(this.streetCode=this.$route.query.code[2],this.zoneCode=this.$route.query.code[1],this.communityCode=this.$route.query.code[4],this.paramsCode={streetCode:this.streetCode,zoneCode:this.zoneCode}),this.handleGetSearchValue()},methods:{handleGetSearchValue:function(e){var t=this;this.isSearchLoading=!0;var a=o()({},this.params,this.formData,this.paramsCode);this.formData.page="number"==typeof e?e:1,u.a.getEquipmentDataPageList(a).then(function(e){t.isSearchLoading=!1;var a=e&&e.obj,r=a.records,o=a.total,n=a.size;a.current;t.tableData=r,t.tableData.map(function(e){"Offline"==e.onlineState?e.onlineState="离线":e.onlineState="在线"}),t.formData.pageSize=n,t.total=o}).catch(function(){t.isSearchLoading=!1})},handleServiceClass:function(){this.formData.page=1},clearSearchValue:function(){this.formData=o()({},this.formData,{userName:"",idcardNumber:""})}},components:{ListLayout:d.a}},p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("list-layout",{attrs:{crumbData:[{title:this.$route.query.label,url:""}],columns:e.columns,tableData:e.tableData,total:e.total,pageSize:e.formData.pageSize,currentPage:e.formData.page,code:e.$route.query.code,backPath:"SmartdeviceStatisticsNew",title:"门磁设备监测大数据统计————安装门磁设备老人"},on:{getSearchValue:e.handleGetSearchValue}},[a("el-form",{attrs:{inline:!0,model:e.formData}},[a("el-form-item",{staticClass:"search_select",attrs:{label:"老年人姓名"}},[a("el-input",{staticClass:"head_left",attrs:{placeholder:"请输入老年人姓名",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleGetSearchValue.apply(null,arguments)}},model:{value:e.formData.userName,callback:function(t){e.$set(e.formData,"userName","string"==typeof t?t.trim():t)},expression:"formData.userName"}})],1),e._v(" "),a("el-form-item",{staticClass:"search_select",attrs:{label:"身份证号码"}},[a("el-input",{staticClass:"head_left",attrs:{placeholder:"请输入身份证号码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleGetSearchValue.apply(null,arguments)}},model:{value:e.formData.idcardNumber,callback:function(t){e.$set(e.formData,"idcardNumber","string"==typeof t?t.trim():t)},expression:"formData.idcardNumber"}})],1)],1),e._v(" "),a("div",{staticClass:"btns_box"},[a("div",{staticClass:"btns_right"},[a("el-button",{staticClass:"btn",on:{click:e.clearSearchValue}},[e._v("重置")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{icon:"el-icon-search",loading:e.isSearchLoading},on:{click:e.handleGetSearchValue}},[e._v("查询")])],1)])],1)};p._withStripped=!0;var m={render:p,staticRenderFns:[]},f=m;var b=!1;var v=a("VU/8")(h,f,!1,function(e){b||a("SfoS")},"data-v-4f55bd58",null);v.options.__file="src/views/TheagedGateList/index.vue";t.default=v.exports},SfoS:function(e,t,a){var r=a("wEhO");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("733c4cc8",r,!1,{})},wEhO:function(e,t,a){(e.exports=a("FZ+f")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"index.vue",sourceRoot:""}])}});