webpackJsonp([83],{"3goP":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=t("woOf"),n=t.n(l),r=t("Dd8w"),s=t.n(r),o=t("hmat"),i=t("P9l9"),c=t("sxQs"),u=t("KwM4"),m=t("NYxO"),d={data:function(){return{isSearchLoading:!1,ops:{vuescroll:{},scrollPanel:{scrollingX:!1},rail:{},bar:{background:"#eee"}},tableData:[],columns:[{label:"所属区域",prop:"address"},{label:"志愿者队伍名称",prop:"volunteerTeamname"},{label:"成员姓名",prop:"memberName"},{label:"成员类型",prop:"memberType"}],fullscreen:!0,formData:{Address:"",volunteerTeamname:"",memberName:""},pageSize:12,currentPage:1,total:0,streetData:[]}},computed:s()({},Object(m.b)(["userType","code"])),watch:{},created:function(){var e=this;this.$store.dispatch("getUserAuthInfo").then(function(){e.handleGetSearchValue()}).catch(function(e){console.log("获取用户权限失败",e)}),this.handleGetSearchValue(),i.a.getStreetInfo().then(function(a){e.streetData=a||[]})},methods:{requestParams:function(e){return n()({},this.formData,{page:"number"==typeof e?e:1,pageSize:this.pageSize})},handleGetSearchValue:function(e){var a=this;this.isSearchLoading=!0,i.a.getVolunteerTeamListInfo(this.requestParams(e)).then(function(e){a.isSearchLoading=!1;var t=e&&e.obj,l=t.records,n=t.total,r=t.size,s=t.current;a.tableData=l||[],a.pageSize=r,a.currentPage=s,a.total=n}).catch(function(){a.isSearchLoading=!1})},clearSearchValue:function(){this.formData={sex:"",zoneCode:"",streetCode:"",communityCode:"",name:"",idCard:"",phone:""},this.selectedLocation=[]}},components:{ListLayout:c.a,smallLayout:u.a,Menu:o.a}},h=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("list-layout",{attrs:{columns:e.columns,tableData:e.tableData,total:e.total,pageSize:e.pageSize,currentPage:e.currentPage,dialogVisible:e.dialogVisible,checkData:e.checkData,backPath:"ServiceVolunteer",header:"志愿者服务数据统计",title:"志愿者服务数据统计————志愿者服务组织架构"},on:{getSearchValue:e.handleGetSearchValue,"update:dialogVisible":function(a){e.dialogVisible=a},"update:dialog-visible":function(a){e.dialogVisible=a},"update:checkData":function(a){e.checkData=a},"update:check-data":function(a){e.checkData=a}}},[t("el-form",{attrs:{inline:!0,model:e.formData}},[t("el-form-item",{staticClass:"search_select",attrs:{label:"街道"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择街道"},model:{value:e.formData.Address,callback:function(a){e.$set(e.formData,"Address",a)},expression:"formData.Address"}},e._l(e.streetData,function(e,a){return t("el-option",{key:a,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),t("el-form-item",{staticClass:"search_select",attrs:{label:"志愿者队伍"}},[t("el-input",{staticClass:"head_left",attrs:{placeholder:"请输入志愿者队伍",clearable:""},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.getSearchValue.apply(null,arguments)}},model:{value:e.formData.volunteerTeamname,callback:function(a){e.$set(e.formData,"volunteerTeamname","string"==typeof a?a.trim():a)},expression:"formData.volunteerTeamname"}})],1),e._v(" "),t("el-form-item",{staticClass:"search_select",attrs:{label:"成员"}},[t("el-input",{staticClass:"head_left",attrs:{placeholder:"请输入成员",clearable:""},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.getSearchValue.apply(null,arguments)}},model:{value:e.formData.memberName,callback:function(a){e.$set(e.formData,"memberName","string"==typeof a?a.trim():a)},expression:"formData.memberName"}})],1)],1),e._v(" "),t("div",{staticClass:"btns_box"},[t("div",{staticClass:"btns_right"},[t("el-button",{staticClass:"btn",on:{click:e.clearSearchValue}},[e._v("重置")]),e._v(" "),t("el-button",{staticClass:"btn",attrs:{icon:"el-icon-search",loading:e.isSearchLoading},on:{click:e.handleGetSearchValue}},[e._v("查询")])],1)]),e._v(" "),t("Menu")],1)};h._withStripped=!0;var f={render:h,staticRenderFns:[]},p=f;var b=t("VU/8")(d,p,!1,null,null,null);b.options.__file="src/views/VisitingTeam/index.vue";a.default=b.exports}});