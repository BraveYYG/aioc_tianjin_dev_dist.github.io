webpackJsonp([59],{B513:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("fZjL"),l=a.n(n),i=a("woOf"),o=a.n(i),r=a("hmat"),c=a("sxQs"),d=a("oAV5"),s=a("P9l9"),v={name:"DailyServiceStatistics",data:function(){return{dailyServiceForm:{beginDay:Object(d.b)(new Date("2021,01,01")),endDay:Object(d.b)(new Date),isHoliday:"0",canteenlevel:"",servicePoint:"",merchantName:""},servicePointList:[],merchantNameList:[],isSearchLoading:!1,tableData1:[{A:"助餐服务类",B:"早餐",peopleNumAvg:"",serviceNumAvg:"",totalAmountAvg:"",cardServiceNumAvg:"",cardTotalAmountAvg:"",oldServiceNumAvg:"",oldTotalAmountAvg:""},{A:"助餐服务类",B:"午餐",peopleNumAvg:"",serviceNumAvg:"",totalAmountAvg:"",cardServiceNumAvg:"",cardTotalAmountAvg:"",oldServiceNumAvg:"",oldTotalAmountAvg:""},{A:"助餐服务类",B:"晚餐",peopleNumAvg:"",serviceNumAvg:"",totalAmountAvg:"",cardServiceNumAvg:"",cardTotalAmountAvg:"",oldServiceNumAvg:"",oldTotalAmountAvg:""},{A:"助餐服务类",B:"小计",peopleNumAvg:"",serviceNumAvg:"",totalAmountAvg:"",cardServiceNumAvg:"",cardTotalAmountAvg:"",oldServiceNumAvg:"",oldTotalAmountAvg:""},{A:"生活照料类",peopleNumAvg:"",serviceNumAvg:"",totalAmountAvg:"",cardServiceNumAvg:"",cardTotalAmountAvg:"",oldServiceNumAvg:"",oldTotalAmountAvg:""},{A:"助医服务类",peopleNumAvg:"",serviceNumAvg:"",totalAmountAvg:"",cardServiceNumAvg:"",cardTotalAmountAvg:"",oldServiceNumAvg:"",oldTotalAmountAvg:""},{A:"托养床位类",peopleNumAvg:"",serviceNumAvg:"",totalAmountAvg:"",cardServiceNumAvg:"",cardTotalAmountAvg:"",oldServiceNumAvg:"",oldTotalAmountAvg:""},{A:"其它服务类",peopleNumAvg:"",serviceNumAvg:"",totalAmountAvg:"",cardServiceNumAvg:"",cardTotalAmountAvg:"",oldServiceNumAvg:"",oldTotalAmountAvg:""},{A:"总计",peopleNumAvg:"",serviceNumAvg:"",totalAmountAvg:"",cardServiceNumAvg:"",cardTotalAmountAvg:"",oldServiceNumAvg:"",oldTotalAmountAvg:""}],tableData:[],table:[{A:"助餐服务类",B:"早餐",code:"breakfast"},{A:"助餐服务类",B:"午餐",code:"lunch"},{A:"助餐服务类",B:"晚餐",code:"dinner"},{A:"助餐服务类",B:"小计",code:"accommodation"},{A:"生活照料类",code:"lifecare"},{A:"助医服务类",code:"medical"},{A:"托养床位类",code:"feeding"},{A:"其它服务类",code:"other"},{A:"合计",code:"total"}],columns:[{label:"服务",prop:"A",className:"rightText"},{label:"类型",prop:"B",className:"leftText"},{label:"日均服务老年人（人）",prop:"peopleNumAvg"},{label:"日均服务量（客次）",prop:"serviceNumAvg"},{label:"日均消费金额（元）",prop:"totalAmountAvg"},{label:"其中：日均白卡服务量（客次）",prop:"cardServiceNumAvg"},{label:"其中：日均白卡消费金额（元）",prop:"cardTotalAmountAvg"},{label:"其中：日均老年人服务量（客次）",prop:"oldServiceNumAvg"},{label:"其中：日均老年人消费金额（元）",prop:"oldTotalAmountAvg"}]}},mounted:function(){this.tableData=this.table,this.getServicePointList(),this.getMerchantNameList(),this.getdailyTableData()},methods:{objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;return 0===t&&0===a?{rowspan:4,colspan:1}:0===a&&t>0&&t<4?{rowspan:0,colspan:0}:t>=4&&0===a?{colspan:2,rowspan:1}:t>=4&&1===a?{rowspan:0,colspan:0}:void 0},handleChangeBeginDate:function(e){console.log(e)},handleChangeEndDate:function(e){console.log(e)},handleChangeIsHoliday:function(e){console.log(e)},handleChangeCanteOption:function(e){console.log(e)},getServicePointList:function(){var e=this;s.a.getServicePointList().then(function(t){console.log(t),200==t.code&&(e.servicePointList=t.data)})},handleChangeServicePoint:function(e){console.log(e),this.merchantNameList=[],this.dailyServiceForm.servicePoint=e,this.getMerchantNameList(this.dailyServiceForm.servicePoint)},getMerchantNameList:function(e){var t=this,a={servicePoint:e};s.a.getMerchantNameList(a).then(function(e){if(console.log(e),e.code&&200==e.code){for(var a=[],n=0;n<e.data.length;n++)a.push({value:e.data[n]});t.merchantNameList=a}})},handleChangeMerName:function(e){console.log(e)},handleResetDailyServiceForm:function(){this.dailyServiceForm={beginDay:"",endDay:"",isHoliday:"",canteenlevel:"",servicePoint:"",merchantName:""}},handleGetSearchValue:function(){console.log(this.dailyServiceForm),this.getdailyTableData()},getdailyTableData:function(){var e=this;this.isSearchLoading=!0;var t={beginDay:this.dailyServiceForm.beginDay,endDay:this.dailyServiceForm.endDay,isHoliday:parseInt(this.dailyServiceForm.isHoliday),canteenlevel:this.dailyServiceForm.canteenlevel.join(","),servicePoint:this.dailyServiceForm.servicePoint,merchantName:this.dailyServiceForm.merchantName};s.a.getSummarizingAvgMap(t).then(function(t){if(console.log(t),t.code&&200==t.code&&t.data){e.isSearchLoading=!1;var a=[];e.table.map(function(e){a.push(o()({},e,t.data[e.code]))}),e.tableData=a}})},querySearch:function(e,t){var a=this.merchantNameList;t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){console.log(e)}},computed:{downloadExcel:function(){var e=this,t="/yanglao-api/serviceSummarizingAvg/summarizingAvgExport?";return l()(this.dailyServiceForm).forEach(function(a,n){t+=e.dailyServiceForm[a]?a+"="+e.dailyServiceForm[a]+"&":""}),t}},components:{ListLayout:c.a,Menu:r.a}},m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("list-layout",{attrs:{header:"居家养老服务情况汇总统计表(日均)",title:"五大服务类别数据综合分析——居家养老服务情况汇总统计表",backPath:"FiveService",tableData:e.tableData,columns:e.columns,objectSpanMethod:e.objectSpanMethod}},[a("el-form",{ref:"dailyServiceForm",attrs:{inline:!0},model:{value:e.dailyServiceForm,callback:function(t){e.dailyServiceForm=t},expression:"dailyServiceForm"}},[a("el-form-item",{staticClass:"search_select search_time",attrs:{label:"起止时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"开始日期","value-format":"yyyy-MM-dd",clearable:""},on:{change:e.handleChangeBeginDate},model:{value:e.dailyServiceForm.beginDay,callback:function(t){e.$set(e.dailyServiceForm,"beginDay",t)},expression:"dailyServiceForm.beginDay"}}),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"截止日期","value-format":"yyyy-MM-dd",clearable:""},on:{change:e.handleChangeEndDate},model:{value:e.dailyServiceForm.endDay,callback:function(t){e.$set(e.dailyServiceForm,"endDay",t)},expression:"dailyServiceForm.endDay"}})],1),e._v(" "),a("el-form-item",{staticClass:"search_select",attrs:{label:"是否包含节假日"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},on:{change:e.handleChangeIsHoliday},model:{value:e.dailyServiceForm.isHoliday,callback:function(t){e.$set(e.dailyServiceForm,"isHoliday",t)},expression:"dailyServiceForm.isHoliday"}},[a("el-option",{attrs:{label:"是",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"否",value:"0"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"search_select",attrs:{label:"载体级别"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:"",multiple:""},on:{change:e.handleChangeCanteOption},model:{value:e.dailyServiceForm.canteenlevel,callback:function(t){e.$set(e.dailyServiceForm,"canteenlevel",t)},expression:"dailyServiceForm.canteenlevel"}},[a("el-option",{attrs:{label:"服务站",value:"服务站"}}),e._v(" "),a("el-option",{attrs:{label:"社区级",value:"社区级"}}),e._v(" "),a("el-option",{attrs:{label:"街级",value:"街级"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"search_select",attrs:{label:"养老服务商"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},on:{change:e.handleChangeServicePoint},model:{value:e.dailyServiceForm.servicePoint,callback:function(t){e.$set(e.dailyServiceForm,"servicePoint",t)},expression:"dailyServiceForm.servicePoint"}},e._l(e.servicePointList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"search_select",attrs:{label:"服务载体"}},[a("el-autocomplete",{staticClass:"dailyService_autocomplete",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容",clearable:""},on:{select:e.handleSelect},model:{value:e.dailyServiceForm.merchantName,callback:function(t){e.$set(e.dailyServiceForm,"merchantName",t)},expression:"dailyServiceForm.merchantName"}})],1)],1),e._v(" "),a("div",{staticClass:"btns_box"},[a("el-button",{staticClass:"btn",on:{click:e.handleResetDailyServiceForm}},[e._v("重置")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{icon:"el-icon-search",loading:e.isSearchLoading},on:{click:e.handleGetSearchValue}},[e._v("查询\n    ")]),e._v(" "),a("a",{attrs:{href:e.downloadExcel,target:"_blank"}},[a("el-button",{staticClass:"btn"},[e._v("导出")])],1)],1),e._v(" "),a("Menu")],1)};m._withStripped=!0;var A={render:m,staticRenderFns:[]},u=A;var g=!1;var h=a("VU/8")(v,u,!1,function(e){g||a("XeZL")},"data-v-6fc6fee0",null);h.options.__file="src/views/ServiceConditionGather/dailyService.vue";t.default=h.exports},"I+5y":function(e,t,a){(e.exports=a("FZ+f")(!0)).push([e.i,"\n[data-v-6fc6fee0] .el-table thead th.rightText {\n  text-align: right !important;\n  padding-right: 0 !important;\n  border-right: none;\n}\n[data-v-6fc6fee0] .el-table thead th.rightText .cell {\n  padding-right: 0 !important;\n}\n[data-v-6fc6fee0] .el-table thead th.leftText {\n  text-align: left !important;\n  padding-left: 0 !important;\n  border-left: none;\n}\n[data-v-6fc6fee0] .el-table thead th.leftText .cell {\n  padding-left: 0 !important;\n}\n.el-date-editor.el-input[data-v-6fc6fee0],\n.el-date-editor.el-input__inner[data-v-6fc6fee0] {\n  width: 1.6rem;\n  margin-right: 0.2rem;\n}\n.btns_box[data-v-6fc6fee0] {\n  height: 0.5rem;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n}\n","",{version:3,sources:["F:/web01/aioc-tianjin-dev/src/views/ServiceConditionGather/dailyService.vue"],names:[],mappings:";AACA;EACE,6BAA6B;EAC7B,4BAA4B;EAC5B,mBAAmB;CACpB;AACD;EACE,4BAA4B;CAC7B;AACD;EACE,4BAA4B;EAC5B,2BAA2B;EAC3B,kBAAkB;CACnB;AACD;EACE,2BAA2B;CAC5B;AACD;;EAEE,cAAc;EACd,qBAAqB;CACtB;AACD;EACE,eAAe;EACf,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,sBAAsB;MAClB,mBAAmB;UACf,0BAA0B;CACnC",file:"dailyService.vue",sourcesContent:["\n[data-v-6fc6fee0] .el-table thead th.rightText {\n  text-align: right !important;\n  padding-right: 0 !important;\n  border-right: none;\n}\n[data-v-6fc6fee0] .el-table thead th.rightText .cell {\n  padding-right: 0 !important;\n}\n[data-v-6fc6fee0] .el-table thead th.leftText {\n  text-align: left !important;\n  padding-left: 0 !important;\n  border-left: none;\n}\n[data-v-6fc6fee0] .el-table thead th.leftText .cell {\n  padding-left: 0 !important;\n}\n.el-date-editor.el-input[data-v-6fc6fee0],\n.el-date-editor.el-input__inner[data-v-6fc6fee0] {\n  width: 1.6rem;\n  margin-right: 0.2rem;\n}\n.btns_box[data-v-6fc6fee0] {\n  height: 0.5rem;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n}\n"],sourceRoot:""}])},XeZL:function(e,t,a){var n=a("I+5y");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("d4394c50",n,!1,{})}});